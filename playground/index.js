// console.log(feature.center);
data = {
    Shimla: [31.1041526, 77.1709729],
    Ooty: [11.4126769, 76.7030504],
    Munnar: [10.0869959, 77.0600915],
    Hyderabad: [17.360589, 78.4740613],
    mysore: [12.3051828, 76.6553609],
    mahabalipuram: [12.6195981, 80.1936497],
    kedarnath: [30.7345609, 79.0673204],
    Mahabaleshwar: [17.893641000000002, 73.61316885788803],
    Mussoorie: [30.4569012, 78.0782906],
    Coorg: [12.3225856, 75.8900616],
    Darjeeling: [27.0377554, 88.263176],
    Nainital: [29.29478295, 79.41548093726253],
    Manali: [32.26309405, 77.18812183241408],
    'Andaman Islands': [12.61123865, 92.83165406414926],
    Lachung: [27.6897097, 88.7425876],
    Almora: [29.703094999999998, 79.43317023326716],
    Dalhousie: [32.54357545, 75.94484088677805],
    Pelling: [27.3003722, 88.2356503],
    Lonavala: [18.7548563, 73.4016729],
    Kullu: [32.00186325, 77.37899639741332],
    Cherrapunji: [25.2837969, 91.7193603],
    Shillong: [25.5760446, 91.8825282],
    Dharamshala: [32.2143039, 76.3196717],
    Wayanad: [11.715219000000001, 76.12690294658198],
    Gangtok: [27.325756900000002, 88.69827694810172],
    Chikmagalur: [13.318014, 75.7738743],
    Kodaikanal: [10.273275349999999, 77.51160822153315],
    Thekkady: [9.5804995, 77.181142],
    Bangalore: [12.9767936, 77.590082],
    Panjim: [15.4989946, 73.8282141],
    Agra: [27.1752554, 78.0098161],
    Dandeli: [15.2490284, 74.6236037],
    'Valley Of Flowers': [30.7430879, 79.6177253430334],
    'Shivanasamudra Falls': [12.3035074, 77.1611196],
    Hogenakkal: [12.1200274, 77.7778683],
    'Athirapally Waterfalls': [10.2847989, 76.5691181],
    Srisailam: [16.090979400000002, 78.8656307623982],
    Kumarakom: [9.5967759, 76.4311258],
    Vizag: [17.7231276, 83.3012842],
    Kochi: [9.931308, 76.2674136],
    Kovalam: [8.4004698, 76.9788156],
    Puri: [19.8076083, 85.8252538],
    Alleppey: [9.1988871, 76.4860494754194],
    Pondicherry: [11.9340568, 79.8306447],
    Somnath: [20.8907001, 70.4025266],
    Shirdi: [19.7668121, 74.4754386],
    Tirupati: [13.77928955, 79.83512262283737],
    Haridwar: [29.91235135, 78.00871782398349],
    Varanasi: [25.3356491, 83.0076292],
    Trivandrum: [8.4882267, 76.947551],
    Guwahati: [26.1805978, 91.753943],
    Bhubaneswar: [20.2602964, 85.8394521],
    Rameshwaram: [9.2844657, 79.3125553],
    Rishikesh: [30.1086537, 78.2916193],
    Sabarimala: [9.434588600000001, 77.08138690374139],
    Kanyakumari: [8.079252, 77.5499338],
    Ganpatipule: [17.1466952, 73.2697524],
    ' Dwarka': [22.2471009, 68.9742446],
    Mathura: [27.633333, 77.583333],
    Gokarna: [14.5439629, 74.3184418],
    Kedarnath: [30.7345609, 79.0673204],
    Badrinath: [30.7423302, 79.4930256],
    Vrindavan: [27.5753726, 77.6938045],
    Murudeshwar: [14.0959549, 74.4883354],
    Udupi: [13.3419169, 74.7473232],
    Nashik: [20.0112475, 73.7902364],
    Kumbakonam: [10.9645549, 79.37173036154906],
    'Delhi City': [28.6559519, 77.2811441],
    Jaipur: [26.9154576, 75.8189817],
    'Ajanta Caves': [20.552449699999997, 75.6995312210475],
    Amritsar: [31.6343083, 74.8736788],
    Mysore: [12.3051828, 76.6553609],
    Mumbai: [19.0785451, 72.878176],
    Hampi: [15.3358, 76.4610201],
    Madurai: [9.9261153, 78.1140983],
    Udaipur: [24.578721, 73.6862571],
    Kanchipuram: [12.9647163, 79.9839686],
    Jodhpur: [26.2967719, 73.0351433],
    Ahmedabad: [23.0216238, 72.5797068],
    'Ellora Caves': [20.026752549999998, 75.17751524179019],
    Khajuraho: [24.8515132, 79.9259786],
    Konark: [19.90742915, 86.14201945385827],
    Mahabalipuram: [12.6195981, 80.1936497],
    Jaisalmer: [27.02801615, 70.7785056232077],
    Thanjavur: [10.7860267, 79.1381497],
    'Rann Of Kutch': [23.790559350000002, 70.49681598808152],
    Tiruchirappalli: [10.804973, 78.6870296],
    Alibaug: [18.6627281, 72.8787677],
    Ajmer: [26.4691, 74.639],
    Bikaner: [28.0159286, 73.3171367],
    Chidambaram: [11.41018075, 79.67222017841891],
    Shravanabelagola: [12.858127, 76.4870114],
    Pune: [18.521428, 73.8544541],
    Gwalior: [26.2037247, 78.1573628],
    Chittorgarh: [24.71779695, 74.47210311178024],
};
cities = [
    'Shimla',
    'Ooty',
    'Munnar',
    'Hyderabad',
    'mysore',
    'mahabalipuram',
    'kedarnath',
    'Mahabaleshwar',
    'Mussoorie',
    'Coorg',
    'Darjeeling',
    'Nainital',
    'Manali',
    'Andaman Islands',
    'Lachung',
    'Almora',
    'Dalhousie',
    'Pelling',
    'Lonavala',
    'Kullu',
    'Cherrapunji',
    'Shillong',
    'Dharamshala',
    'Wayanad',
    'Gangtok',
    'Chikmagalur',
    'Kodaikanal',
    'Thekkady',
    'Bangalore',
    'Panjim',
    'Agra',
    'Dandeli',
    'Valley Of Flowers',
    'Shivanasamudra Falls',
    'Hogenakkal',
    'Athirapally Waterfalls',
    'Srisailam',
    'Kumarakom',
    'Vizag',
    'Kochi',
    'Kovalam',
    'Puri',
    'Alleppey',
    'Pondicherry',
    'Somnath',
    'Shirdi',
    'Tirupati',
    'Haridwar',
    'Varanasi',
    'Trivandrum',
    'Guwahati',
    'Bhubaneswar',
    'Rameshwaram',
    'Rishikesh',
    'Sabarimala',
    'Kanyakumari',
    'Ganpatipule',
    ' Dwarka',
    'Mathura',
    'Gokarna',
    'Kedarnath',
    'Badrinath',
    'Vrindavan',
    'Murudeshwar',
    'Udupi',
    'Nashik',
    'Kumbakonam',
    'Delhi City',
    'Jaipur',
    'Ajanta Caves',
    'Amritsar',
    'Mysore',
    'Mumbai',
    'Hampi',
    'Madurai',
    'Udaipur',
    'Kanchipuram',
    'Hyderabad',
    'Jodhpur',
    'Ahmedabad',
    'Ellora Caves',
    'Khajuraho',
    'Konark',
    'Mahabalipuram',
    'Jaisalmer',
    'Thanjavur',
    'Rann Of Kutch',
    'Tiruchirappalli',
    'Alibaug',
    'Ajmer',
    'Bikaner',
    'Chidambaram',
    'Shravanabelagola',
    'Pune',
    'Gwalior',
    'Chittorgarh',
];
mapboxgl.accessToken =
    'pk.eyJ1Ijoiam9uYXNzY2htZWR0bWFubiIsImEiOiJjam54ZmM5N3gwNjAzM3dtZDNxYTVlMnd2In0.ytpI7V7w7cyT1Kq5rT9Z1A';

var map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/mapbox/light-v9',
    zoom: 8,
});
/* const bounds = new mapboxgl.LngLatBounds();
const placeMarker = async() => {
    for (let loc of cities) {
        let x, y;
        const el = document.createElement('div');
        el.className = 'marker';
        [x, y] = data[loc];
        // Add marker
        const popup = new mapboxgl.Popup({
            offset: [0, -30],
        }).setText(`${loc}`);

        new mapboxgl.Marker({
                element: el,
                anchor: 'bottom',
            })
            .setLngLat([y, x])
            .setPopup(popup)
            .addTo(map);
        popup.remove();

        bounds.extend([y, x]);
    }
};
const loadMap = () => {
    placeMarker();
    map.fitBounds(bounds, {
        padding: 20,
    });
    map.scrollZoom.disable();
    map.keyboard.disable();
    map.touchZoomRotate.disable();
    const nav = new mapboxgl.NavigationControl({
        visualizePitch: true,
    });
    map.addControl(nav, 'bottom-right');
}; */
// loadMap();

//track location
/* 
let lat, long;
let lngLat = {};

const getLocation = (position) => {
    lng = position.coords.longitude;
    lat = position.coords.latitude;
    lngLat = { lng, lat };
    console.log(lngLat);
};

if (navigator.geolocation.getCurrentPosition(getLocation)) {
    alert('We want to access location');
} else {
    alert("sorry we can't locate you");
}

// Add marker
if (lngLat) {
    // var marker;
    setTimeout(() => {
        const marker = new mapboxgl.Marker({
                element: el,
                anchor: 'bottom',
                draggable: true,
            })
            .setLngLat(lngLat)
            .setPopup(new mapboxgl.Popup().setHTML('<h1>Chennai</h1>'))
            .addTo(map);
        marker.togglePopup();
    }, 5000);
}

//Navigation control

const nav = new mapboxgl.NavigationControl({
    visualizePitch: true,
});
map.addControl(nav, 'bottom-right');
new mapboxgl.Popup({
        offset: 30,
    })
    .setLngLat([78.397322, 17.422408])
    .setHTML(`<p>Day 1: Hyderabad</p>`)
    .addTo(map);
map.addControl(
    new mapboxgl.FullscreenControl({
        container: document.querySelector('body'),
    })
);
// Initialize the geolocate control.
const geolocate = new mapboxgl.GeolocateControl({
    positionOptions: {
        enableHighAccuracy: true,
    },
    trackUserLocation: true,
});
// Add the control to the map.
map.addControl(geolocate);

map.on('load', () => {
    geolocate.trigger();
});
map.on('style.load', () => {
    map.setFog({}); // Set the default atmosphere style
});
 */

/* const popup = new mapboxgl.Popup({
        offset: popupOffsets,
        className: 'my-class',
    })
    .setLngLat(e.lngLat)
    .setHTML('<h1>Hello World!</h1>')
    .setMaxWidth('300px')
    .addTo(map);
const lngLat = marker.getLngLat();
const offset = marker.getOffset();
map.dragPan.disable();
geolocate.on('geolocate', () => {
    console.log('A geolocate event has occurred.');
});
geolocate.on('outofmaxbounds', () => {
    console.log('An outofmaxbounds event has occurred.');
    });
geolocate.on('trackuserlocationstart', () => {
    console.log('A trackuserlocationstart event has occurred.');
    });
    geolocate.on('trackuserlocationend', () => {
        console.log('A trackuserlocationend event has occurred.');
        });
// Extend map bounds to include current location
bounds.extend(loc.coordinates);


    var Draw = mapboxgl.Draw({
    displayControlsDefault: false,
    controls: {
    'point': true,
    'trash': true
    }
    });

    map.addControl(Draw);
 

Add popup
new mapboxgl.Popup({
        offset: 30,
    })
    .setLngLat([y, x])
    .setHTML(`${loc}`)
    .addTo(map);
.togglePopup();
document.querySelector('.mapboxgl-ctrl').classList.add('nav-size');
console.log(document.querySelector('.mapboxgl-ctrl').classList);

map.on('mousedown', function(e) {
    //alert("MouseDown!!");
    console.log('MouseDown!!');

    pixelCoords = e.point;
    geoCoords = e.lngLat;

    x = pixelCoords.x;
    y = pixelCoords.y;

    lng = Number(geoCoords.lng.toFixed(5));
    lat = Number(geoCoords.lat.toFixed(5));

    var feature = {
        type: 'Point',
        coordinates: [lat, lng],
    };

    currentPoint = {
        type: 'Feature',
        properties: {},
        geometry: {
            type: 'Point',
            coordinates: [Number(lng), Number(lat)],
        },
    };

    bufferCurrentPoint = turf.buffer(currentPoint, 100, 'meters');

    addBufferPointToMap(bufferCurrentPoint);
});

function addBufferPointToMap(bufferCurrentPoint) {
    try {
        map.removeSource('buffer');
        map.removeLayer('buffer');
    } catch (err) {
        console.log('The source and layer "buffer" are not defined');
    }

    map.addSource('buffer', {
        type: 'geojson',
        data: bufferCurrentPoint,
    });

    map.addLayer({
        id: 'buffer',
        type: 'fill',
        source: 'buffer',
        layout: {},
        paint: {
            'fill-color': '#088',
            'fill-opacity': 0.5,
        },
    });
}

Toggle Interactions */

/* scrollZoom
    boxZoom
    dragPan
    keyboard
    doubleclickZoom
    touchZoomRotate */